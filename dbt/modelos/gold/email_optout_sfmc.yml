version: 2

models:
  - name: email_optout_sfmc
    meta:
      domain: comunicacoes
      layer: gold
      schema: comunicacoes_gold
      owner: martech@willbank.com.br
      openmetadata:
        tags: [
          'confiabilidade.confiavel',
          'classificacao_da_informacao.publico',
        ]
        tier: 'Tier.Tier2'

    description: >
      **Propósito:** Registra eventos de cancelamento de inscrição por usuários em campanhas de e-mail, fornecendo insights para estratégias de retenção e melhoria de atendimento.

      **Escopo:** Contém detalhes específicos de eventos de cancelamento de inscrição, incluindo a identificação do assinante e metadados do evento, essenciais para análises de atendimento ao cliente.

      **Audiência:** Equipes de atendimento ao cliente e marketing, que buscam entender as razões de cancelamento de inscrição e desenvolver ações para melhorar a satisfação e retenção de clientes.

      **Processo:** Os dados são extraídos da Salesforce processados para identificar eventos de cancelamento de inscrição únicos e relevantes para análises de atendimento.

      **Recorrência de atualização:** A tabela é atualizada 1x ao dia.

    tags: [gold, comunicacoes, salesforce, unsubscribe]

    columns:
      - name: ds_origin
        description: Origem dos dados do assinante, útil para segmentação e análises específicas.

      - name: id_email
        description: Identificador do e-mail no sistema, relacionado ao evento de cancelamento.

      - name: id_pessoa
        description: Identificador único da Salesforce.
        tags: []
        meta:
          openmetadata:
            tags: [
              'pii.pii'
            ]

      - name: id_customer
        description: Identificador do cliente no sistema.
        tags: []
        meta:
          openmetadata:
            tags: [
              'pii.pii'
            ]

      - name: id_proposal
        description: Identificador da proposta do cliente no sistema.
        tags: []
        meta:
          openmetadata:
            tags: [
              'pii.pii'
            ]

      - name: name
        description: Nome do assinante, para análises e segmentações personalizadas.
        tags: []
        meta:
          openmetadata:
            tags: [
              'pii.pii'
            ]

      - name: eventtype
        description: Tipo de evento, neste caso, "Unsubscribe".

      - name: dt_unsubscribe
        description: Data e hora do evento de cancelamento, crucial para análise temporal de comportamento de cancelamento.

      - name: dt_envio
        description: Data de envio do e-mail relacionado ao evento de cancelamento.

      - name: email
        description: Endereço de e-mail do assinante, essencial para rastreamento de eventos.
        tags: []
        meta:
          openmetadata:
            tags: [
              'pii.pii'
            ]

      - name: activityname
        description: Nome da atividade de e-mail, útil para análises detalhadas de campanhas.

      - name: emailname
        description: Nome do e-mail, para identificação específica dentro das campanhas.

      - name: journeyname
        description: Nome da jornada, para rastreamento de campanhas automatizadas.

      - name: ingestion_year
        description: Ano de ingestão.

      - name: ingestion_month
        description: Mês de ingestão.

      - name: ingestion_day
        description: Dia de ingestão.
