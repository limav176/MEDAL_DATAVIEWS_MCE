version: 2

models:
  - name: retorno_email_resumido
    meta:
      domain: comunicacoes
      layer: gold
      schema: comunicacoes_gold
      owner: valmir.lima@willbank.com.br
      openmetadata:
        tags: [
          'confiabilidade.fonte_da_verdade',
          'classificacao_da_informacao.publico',
        ]
        tier: 'Tier.Tier2'
        
    description: >
      **Propósito:** Esta tabela gera um resumo de notificações email enviadas aos dispositivos móveis dos usuários. 

      **Escopo:** Contém detalhes como data de envio, nome de comunicacao, plataforma e totais de interação.

      **Audiência:** Essencial para equipes de dados, cxm e marketing.

      **Processo:** Os dados são extraídos da Salesforce e Infobip, processados para identificar eventos de cancelamento de inscrição únicos e relevantes para análises de atendimento.

      **Recorrência de atualização:** A tabela é atualizada 1x ao dia.

    tags: [gold, comunicacoes, email]

    columns:
      - name: nome_comunicacao
        description: Identifica o nome dado à comunicação email enviada.

      - name: dt_disparo
        description: Data e hora em que a notificação email foi enviada aos usuários.

      - name: bu
        description: Indica o departamento dentro da organização que originou a comunicação.

      - name: plataforma
        description: Denota a plataforma de envio Infobip ou Salesforce

      - name: total_enviado
        description: Número total de notificações email enviadas

      - name: total_recebimento
        description: Número total de notificações que foram entregues com sucesso aos dispositivos dos destinatários.

      - name: total_abertura
        description: Total de vezes que as notificações enviadas foram abertas pelos usuários.

      - name: total_clique
        description: Total de vezes que as notificações enviadas foram clicadas pelos usuários.

      - name: ingestion_year
        description: Ano de execução da tabela.

      - name: ingestion_month
        description: Mês de execução da tabela.

      - name: ingestion_day
        description: dia de execução da tabela.
